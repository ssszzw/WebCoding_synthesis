# 项目：HTML5 Canvas 黑八台球双人对战游戏

请开发一个包含 HTML, CSS, 和 JavaScript 的单文件 (`index.html`) 网页游戏，实现一个功能完整的 2D 俯视视角黑八台球游戏。

### 1. 整体效果与技术栈
*   **目标**：创建一个基于浏览器的双人台球游戏，模拟真实的物理碰撞和黑八规则。
*   **核心技术**：
    *   **HTML5 Canvas**：用于渲染游戏画面（球桌、球、球杆、瞄准线）。
    *   **Matter.js (推荐)**：通过 CDN 引入轻量级 2D 物理引擎，处理球体碰撞、反弹、摩擦力和运动轨迹。
    *   **CSS3**：用于 UI 界面布局（玩家面板、提示文字）。
*   **布局**：游戏画布居中，深色背景，顶部显示玩家状态，底部显示操作说明。

### 2. 视觉效果细节
*   **球桌**：
    *   长宽比约为 2:1 的圆角矩形。
    *   **台面**：深绿色 (`#27ae60` 或类似质感)。
    *   **边框**：木纹棕色 (`#8d6e63`)，具有一定的厚度感。
    *   **袋口**：6 个黑色圆形袋口（4 个角，2 个长边中点），位置需精确以允许进球。
*   **球体**：
    *   **白球**：纯白色。
    *   **目标球**：1-15 号球。
        *   **全色球 (1-7)**：黄、蓝、红、紫、橙、绿、棕。
        *   **黑八 (8)**：黑色。
        *   **花色球 (9-15)**：对应颜色，球体上有白色条纹环绕。
    *   球面上需绘制简单的数字标识和高光效果以体现立体感。
*   **球杆与瞄准**：
    *   **球杆**：棕色长条，头部有皮头颜色，围绕白球旋转。
    *   **瞄准线**：从白球中心出发的白色虚线，指示击球方向。
    *   **力度指示**：球杆距离白球的拉伸距离代表力度。

### 3. 交互功能说明
*   **操作模式**：鼠标拖拽蓄力。
    1.  **瞄准**：鼠标在屏幕上移动控制球杆角度。
    2.  **蓄力**：按住鼠标左键并向后（球杆方向反向）拖动，球杆视觉上后退，模拟拉杆动作。
    3.  **击球**：松开鼠标左键，根据拖拽距离计算冲量，球杆向前击打白球。
*   **物理特性**：
    *   球体之间需有弹性碰撞。
    *   球体与库边（墙壁）碰撞需反弹。
    *   模拟桌布摩擦力，球体运动后会逐渐减速直至静止。
    *   球进入袋口区域后应判定为进球并从物理世界移除（或重置白球）。

### 4. 游戏逻辑与规则模块
*   **开局摆球**：
    *   目标球呈三角形紧密排列在置球点，8 号球在中间，角部球一花一全。
    *   白球位于开球线后。
*   **回合制系统**：
    *   **状态机**：`AIMING` (瞄准中), `SHOOTING` (击球动画中), `MOVING` (球滚动中), `PROCESSING` (结算中)。只有所有球静止后才能进行下一回合。
    *   **UI 面板**：
        *   顶部左侧："玩家 1 (状态/球种)"。
        *   顶部右侧："玩家 2 (状态/球种)"。
        *   当前回合玩家的面板需高亮显示（如黄色边框或背景）。
        *   初始状态显示 "未定"，进第一颗球后更新为 "全色 1-7" 或 "花色 9-15"。
*   **胜负判定 (简化版)**：
    *   打进黑八且己方球全清 -> 胜利。
    *   提前打进黑八 -> 失败。
    *   白球进袋 -> 犯规，白球重置到初始点或自由球（简单起见可重置到初始点）。

### 5. 代码结构要求
请将所有代码合并在 `index.html` 中输出：
*   `<head>` 中引入 Matter.js CDN (如 `cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js`)。
*   `<style>` 标签定义 UI 样式，确保绝对定位覆盖在 Canvas 上。
*   `<script>` 标签包含完整的游戏逻辑：
    *   `init()`: 初始化物理引擎、渲染器、事件监听。
    *   `createTable()`: 生成墙壁和袋口传感器。
    *   `createBalls()`: 生成台球并赋色。
    *   `update()`: 游戏主循环，处理逻辑判断（进球检测、回合切换）。
    *   `draw()`: Canvas 渲染循环（如果 Matter.js 自带渲染器无法满足自定义球体样式，请使用自定义 Canvas 绘图函数同步物理引擎数据）。
*   底部必须包含说明文字："操作说明：按住鼠标左键并在白球周围拖拽以蓄力瞄准，松开射击。"

请生成完整、可直接运行的代码。
