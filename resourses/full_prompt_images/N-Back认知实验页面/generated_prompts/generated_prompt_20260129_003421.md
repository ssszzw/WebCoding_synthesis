# N-Back 认知实验网页生成提示词

请创建一个包含 HTML、CSS 和 JavaScript 的单文件 (`index.html`)，实现一个完整的 N-Back 认知实验应用。

### 1. 整体视觉风格
- **配色**：背景使用深紫色线性渐变（类似截图中的紫色氛围），主体容器为白色圆角卡片，带有柔和的阴影。
- **布局**：居中卡片式设计，响应式布局。
- **字体**：现代无衬线字体，汉字显示清晰醒目。
- **反馈元素**：底部通过颜色（绿/红）和文字提示用户的操作结果。

### 2. 功能模块与交互流程

#### A. 初始界面 (Start Screen)
- **标题**：“N-Back 认知实验”。
- **说明文案**：解释规则（判断当前汉字与前第N个是否一致）。
- **N值选择**：提供三个明显的按钮：“N=2”、“N=3”、“N=4”。
- **交互**：点击按钮后，初始化对应N值的实验配置，进入实验界面。

#### B. 实验运行界面 (Experiment Screen)
- **顶部状态栏**：
  - 显示当前进度（例如：`1/30`，仅计算有效点击回合）。
  - 显示当前 N 值（例如：`N=3`）。
- **中央刺激区**：
  - 显示汉字，字号巨大，居中。
  - **字符集**：`["国", "火", "道", "市", "天", "家", "理", "态", "至", "心"]`。
- **引导提示**：
  - 在前 N 个字符展示期间，提示“请记忆...”。
  - 从第 N+1 个字符开始，提示“开始判定：正确按 A | 错误按 L”。
- **底部反馈条**：
  - 用户按键后立即显示结果（例如：“正确！反应时间：545ms”或“错误”）。
  - 背景色随结果变化（绿色为正确，红色为错误）。

#### C. 结算界面 (Result Screen)
- **展示数据**：
  - 总正确率（%）。
  - 平均反应时间（ms）。
- **操作**：
  - “重新开始”按钮。
  - “导出结果”按钮（下载 CSV 或 JSON 文件）。

### 3. 核心技术逻辑实现

#### A. 序列生成算法 (关键)
- **总长度**：`30 + N` 个字符（确保用户有30次判断机会）。
- **目标控制**：在需要用户判断的30次中，**必须精确包含 15 次“匹配”（Match）和 15 次“不匹配”（Non-Match）**，以平衡难度。
- **生成逻辑**：
  1. 随机填充前 N 个字符。
  2. 遍历后续 30 个位置：根据剩余需要的匹配/不匹配数量，随机决定当前位置是“目标”还是“非目标”。
  3. 如果是目标：`current_char = char_at_index(i - N)`。
  4. 如果是非目标：随机选择一个不等于 `char_at_index(i - N)` 的字符。

#### B. 计时与状态机
- **周期**：每 1000ms (1秒) 自动切换下一个字符。
- **反应时间 (RT)**：记录从“字符出现时间戳”到“用户按键时间戳”的差值。
- **按键监听**：
  - 监听全局 `keydown` 事件。
  - `KeyA`：代表“一致/是”（Match）。
  - `KeyL`：代表“不一致/否”（Non-Match）。
  - 防抖动：每个字符周期内只接受第一次按键，若超时未按键记为“未反应/错误”。

### 4. 代码结构要求
- **HTML**：语义化标签，包含 Start、Game、Result 三个主要 Section，通过 CSS 类控制显示/隐藏。
- **CSS**：使用 Flexbox/Grid 布局，CSS3 动画（字符切换时的轻微淡入淡出），由紫色渐变背景覆盖 `body`。
- **JS**：
  - 使用面向对象或模块化函数封装。
  - 包含 `generateSequence(n)` 函数。
  - 包含 `exportData()` 函数。
  - 没有任何外部依赖，原生 JS 实现。

请输出完整的、可直接运行的 `index.html` 代码。
