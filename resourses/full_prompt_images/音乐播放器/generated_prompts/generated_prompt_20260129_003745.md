# 前端开发专家指令：构建极致写实黑胶唱片音乐播放器

作为一个精通 HTML5、CSS3 和 Web Audio API 的前端开发专家，请编写一个单文件（`index.html`）的音乐播放器应用。该应用需完美复刻提供的参考图视觉效果，无需依赖外部图片资源，所有图形通过 CSS 绘制或 SVG 实现，确保代码直接可用。

## 1. 整体效果描述
创建一个深色主题的 Web 音乐播放器。核心视觉中心是一个高拟真的黑胶唱片，播放时会旋转，并伴有一个机械唱臂。唱片周围环绕着一个圆形的音频频谱可视化效果，随音乐节奏律动。底部为一个磨砂玻璃质感或深灰色的控制栏，包含歌曲信息、播放控制、文件导入和音量调节。

## 2. 视觉效果与 CSS 绘制细节

### 全局样式
- **背景**：深灰色到黑色的径向渐变背景，营造高端氛围。
- **字体**：使用无衬线字体（如 Arial, Helvetica, sans-serif），白色文字，高对比度。

### 核心组件：黑胶唱片 (Vinyl Record)
- 使用 CSS `border-radius: 50%` 绘制圆形。
- **纹理**：使用重复的径向渐变 (`repeating-radial-gradient`) 模拟黑胶唱片的凹凸沟槽质感。
- **光泽**：添加一道线性的白色半透明渐变层，模拟黑胶表面的反光，该反光层应固定不动或随视角微调，不随唱片旋转（或者唱片旋转时光泽感保持在特定角度）。
- **唱片标签**：中心红色圆形区域，带有 "HI-FI MUSIC" 文字，随唱片旋转。
- **动画**：定义 `@keyframes rotate`，播放时无限旋转，暂停时停止。

### 核心组件：唱臂 (Tonearm)
- 位于唱片右上方。
- **构造**：使用 CSS 几何图形组合。
  - **底座**：银色/灰色圆形。
  - **臂杆**：细长的银色金属质感长条。
  - **配重**：臂杆尾端的银色圆柱体。
  - **唱头**：臂杆前端的黑色矩形，接触唱片。
- **交互动画**：设置 `transform-origin` 为底座中心。播放时，唱臂顺时针旋转移动到唱片上方；暂停/停止时，逆时针旋转移回原位。

### 核心组件：可视化频谱 (Visualizer)
- 使用 `<canvas>` 元素，定位在黑胶唱片的正后方或外围。
- **形状**：环形/放射状分布。
- **颜色**：高亮红色/橙色渐变，与参考图中的红色光效一致。
- **动态**：根据音频频率数据，频谱条向外伸缩。

### 底部控制栏 (Control Bar)
- 固定在页面底部，宽度 100%，深灰色背景，略带透明度或边框区分。
- **左侧**：显示歌曲标题（大号字体）和播放状态/时间（小号灰色字体）。
- **中左**：圆角矩形按钮，文字 "导入本地音频"，边框样式。
- **中间**：巨大的圆形播放/暂停按钮，内部带有金黄色/亮色的图标。
- **右侧**：音量控制。包含喇叭图标和滑块（Input Range），滑块轨道为灰色，激活部分为亮色。

## 3. 交互功能与逻辑 (JavaScript)

### 音频处理 (Web Audio API)
- 创建 `AudioContext` 和 `AnalyserNode`。
- `AnalyserNode` 用于获取实时频域数据 (`getByteFrequencyData`)，驱动 Canvas 绘制。
- **文件导入**：监听 "导入本地音频" 按钮的 `<input type="file">` 事件，读取用户上传的 MP3 文件，使用 `URL.createObjectURL` 生成播放源。

### 播放控制
- **点击播放/暂停**：
  1. 切换 `<audio>` 元素的播放状态。
  2. 切换播放按钮的图标（Play/Pause）。
  3. 触发唱片的旋转 CSS class。
  4. 触发唱臂的旋转 CSS transform。
- **音量调节**：监听 Range 滑块的 input 事件，实时改变 `<audio>` 的 volume 属性。
- **进度显示**：实时更新当前播放时间和总时长。

### Canvas 绘图逻辑
- 在 `requestAnimationFrame` 循环中绘制。
- 获取频率数据数组。
- 计算圆周上的坐标点：`x = center_x + (radius + bar_height) * cos(angle)`。
- 绘制从内圆向外辐射的线条或矩形，颜色根据能量强度调整透明度或亮度。

## 4. 技术实现要求

- **单文件输出**：所有 HTML 结构、CSS 样式、JavaScript 逻辑必须包含在同一个 `index.html` 文件中。
- **无外部依赖**：不要使用 Bootstrap、Tailwind 或外部图标库（图标使用 SVG 字符串内嵌或 CSS 简单绘制）。
- **兼容性**：确保在现代浏览器（Chrome, Edge, Firefox）中直接打开即可运行。
- **错误处理**：如果是本地文件播放，确保在代码中处理好 `CORS` 或文件读取逻辑（使用 `FileReader` 或 `Blob URL`）。

## 5. 输出代码结构

请直接输出完整的 `index.html` 内容，结构如下：
1. `<!DOCTYPE html>`
2. `<html>`
3. `<head>`: 包含 `<style>` 块，编写所有 CSS 变量、布局、动画和绘制代码。
4. `<body>`: 包含播放器容器、Canvas、唱片 DOM 结构、唱臂 DOM 结构、底部控制栏结构。
5. `<script>`: 包含文件监听、AudioContext 初始化、Canvas 绘图循环、UI 交互逻辑。
6. `</html>`

请开始生成代码。
